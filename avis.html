<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LoopUp - Avis</title>
  <link href="style.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
</head>

<body class="bg-gray-950 text-white min-h-screen flex flex-col">

  <!-- Navigation -->
  <nav class="bg-gray-900 border-b border-gray-800">
    <div class="max-w-6xl mx-auto px-6">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <div class="flex-shrink-0">
          <a href="index.html">
            <img src="fb4c277b-1f51-4181-989d-cc79e57db35a.png" alt="Logo LoopUp" class="h-12 md:h-16 lg:h-20 w-auto">
          </a>
        </div>

        <div class="hidden md:flex space-x-8 text-lg font-semibold">
          <a href="index.html"
            class="text-gray-300 hover:text-red-500 transition-colors duration-300 px-3 py-2 rounded-md">Accueil</a>
          <a href="qui-sommes-nous.html"
            class="text-gray-300 hover:text-red-500 transition-colors duration-300 px-3 py-2 rounded-md">Qui
            sommes-nous</a>
          <a href="avis.html"
            class="text-red-500 border-b-2 border-red-500 px-3 py-2 rounded-md" aria-current="page">Avis</a>
        </div>
      </div>
    </div>
  </nav>

  <header class="bg-gradient-to-br from-red-500 to-pink-600 py-20 px-6 text-center">
    <h1 class="text-5xl md:text-6xl font-extrabold mb-4">LoopUp</h1>
    <p class="text-xl md:text-2xl mb-6">Défis sportifs quotidiens. Progrès concrets. En solo ou entre amis.</p>
  </header>

  <main class="flex-grow max-w-4xl mx-auto px-6 py-12">
    <section class="mb-12">
      <h2 class="text-4xl font-bold mb-8 text-center">Avis sur notre application</h2>

      <div id="reviewsList" class="space-y-8">
        <!-- Les avis seront insérés ici par JS -->
      </div>
    </section>

    <section class="bg-gray-900 rounded-2xl p-8 max-w-2xl mx-auto">
      <h3 class="text-3xl font-bold mb-6 text-center text-red-500">Laissez votre avis</h3>

      <form id="reviewForm" class="space-y-6" aria-label="Formulaire d'avis">
        <div>
          <label for="name" class="block mb-2 font-semibold">Votre nom</label>
          <input type="text" id="name" name="name" required
            class="w-full rounded-lg bg-gray-800 border border-gray-700 text-white px-4 py-3 focus:outline-none focus:ring-2 focus:ring-red-500" />
        </div>

        <div>
          <label for="rating" class="block mb-2 font-semibold">Note</label>
          <select id="rating" name="rating" required
            class="w-full rounded-lg bg-gray-800 border border-gray-700 text-white px-4 py-3 focus:outline-none focus:ring-2 focus:ring-red-500">
            <option value="">Sélectionnez une note</option>
            <option value="5">5 étoiles</option>
            <option value="4">4 étoiles</option>
            <option value="3">3 étoiles</option>
            <option value="2">2 étoiles</option>
            <option value="1">1 étoile</option>
          </select>
        </div>

        <div>
          <label for="comment" class="block mb-2 font-semibold">Votre avis</label>
          <textarea id="comment" name="comment" rows="4" required
            class="w-full rounded-lg bg-gray-800 border border-gray-700 text-white px-4 py-3 focus:outline-none focus:ring-2 focus:ring-red-500"></textarea>
        </div>

        <button type="submit"
          class="w-full bg-red-500 hover:bg-red-600 rounded-2xl py-3 font-semibold text-lg transition-colors duration-300">
          Envoyer
        </button>
      </form>
    </section>
  </main>

  <footer class="bg-gray-900 py-12 text-white">
    <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-3 gap-8 text-center md:text-left">

      <!-- Logo + Description -->
      <div>
        <h2 class="text-2xl font-bold mb-2">LoopUp</h2>
        <p>Votre plateforme de défis sportifs</p>
      </div>

      <!-- Liens rapides -->
      <div>
        <h3 class="text-lg font-semibold mb-3">Liens rapides</h3>
        <ul class="space-y-2">
          <li><a href="index.html" class="hover:text-red-500 transition">Accueil</a></li>
          <li><a href="qui-sommes-nous.html" class="hover:text-red-500 transition">Qui sommes-nous</a></li>
          <li><a href="avis.html" class="hover:text-red-500 transition">Avis</a></li>
        </ul>
      </div>

      <!-- Réseaux sociaux -->
      <div>
        <h3 class="text-lg font-semibold mb-3">Suivez-nous</h3>
        <div class="flex justify-center md:justify-start space-x-4">
          <a href="#" target="_blank" class="hover:scale-110 transition-transform">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/twitter.svg" alt="Twitter" class="w-6 h-6 filter invert" />
          </a>
          <a href="https://www.instagram.com/looup_project?igsh=ajVqdTFtazJhZXl4&utm_source=qr" target="_blank" class="hover:scale-110 transition-transform">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram" class="w-6 h-6 filter invert" />
          </a>
          <a href="#" target="_blank" class="hover:scale-110 transition-transform">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/tiktok.svg" alt="TikTok" class="w-6 h-6 filter invert" />
          </a>
        </div>
      </div>

    </div>

    <div class="mt-10 text-center text-sm text-gray-400">
      © 2025 LoopUp. Créé avec ❤️ par des passionnés.
    </div>
  </footer>

  <script>
    const reviewsList = document.getElementById('reviewsList');
    const form = document.getElementById('reviewForm');

    // Avis par défaut sur le thème sportif
    const defaultReviews = [
      {
        name: "Lucas T.",
        rating: 5,
        comment: "Grâce à LoopUp, j'ai amélioré mon endurance et ma vitesse. Une application indispensable pour tous les sportifs !"
      },
      {
        name: "Mélanie R.",
        rating: 4,
        comment: "Les défis quotidiens motivent vraiment à dépasser ses limites. Très intuitive et agréable à utiliser."
      },
      {
        name: "Antoine G.",
        rating: 5,
        comment: "J'aime pouvoir suivre mes progrès et comparer avec mes amis. LoopUp est devenue mon coach personnel."
      }
    ];

    // Fonction pour générer les étoiles ★ et ☆
    function createStars(rating) {
      return "★★★★★".slice(0, rating) + "☆☆☆☆☆".slice(rating, 5);
    }

    // Fonction pour afficher un avis dans la page
    function addReviewToDOM({ name, rating, comment }) {
      const article = document.createElement('article');
      article.className =
        "bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-sm hover:shadow-lg transition-shadow duration-300";

      article.innerHTML = `
        <div class="flex justify-center mb-4 text-red-500 text-2xl">${createStars(rating)}</div>
        <p class="text-gray-300 text-lg mb-4 text-center">${comment}</p>
        <footer class="text-gray-500 text-center font-semibold">— ${name}</footer>
      `;

      reviewsList.appendChild(article);
    }

    // Chargement des avis depuis localStorage, ou par défaut sinon
    function loadReviews() {
      reviewsList.innerHTML = "";
      const stored = localStorage.getItem("reviews");
      let reviews = stored ? JSON.parse(stored) : defaultReviews;
      reviews.forEach(addReviewToDOM);
      return reviews;
    }

    // Sauvegarde des avis dans localStorage
    function saveReviews(reviews) {
      localStorage.setItem("reviews", JSON.stringify(reviews));
    }

    let reviews = loadReviews();

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const name = form.name.value.trim();
      const rating = parseInt(form.rating.value);
      const comment = form.comment.value.trim();

      if (!name || !rating || !comment) {
        alert("Merci de remplir tous les champs.");
        return;
      }

      const newReview = { name, rating, comment };

      // Ajouter en début du tableau
      reviews.unshift(newReview);

      // Sauvegarder
      saveReviews(reviews);

      // Réafficher
      reviewsList.innerHTML = "";
      reviews.forEach(addReviewToDOM);

      // Reset form
      form.reset();
      alert('Merci pour votre avis !');
    });
  </script>
</body>

</html>
